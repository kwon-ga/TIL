## ✔ 왜 Node JS 인가 ?

<br>

Node JS 는 V8 JS 엔진으로 빌드된 JS 런타임이며, 이벤트 기반, non-blocking, single thread 런타임이다.

<br>

### ✅ 프로세스와 스레드

<br>

프로세스 (Process) :   
프로그램이 운영체제에 의해 메모리 공간을 할당받아 실행중인 것을 의미한다.  

프로세스는 프로그램에 사용되는 데이터와 메모리 등의 자원 그리고 스레드로 구성된다. (Heap, Data, Code 등)

<br>

스레드 (Thread) :  
프로세스 내에서 실제로 작업을 수행하는 주체를 의미한다.

모든 프로세스에는 한 개 이상의 스레드가 존재하고 작업을 실행한다.  

<br>

프로세스가 브라우저라고 하면 스레드는 유튜브를 시청한다고 생각하면 이해가 쉽다.  
(2개 이상의 스레드를 보유하고 있다면, 유튜브를 시청(스레드1), gmail 작성(스레드2))

<br>

### ✅ 멀티 스레드와 싱글 스레드

<br>

멀티스레드:  
CPU의 쵀대 활용을 위해 프로그램을 둘 이상 실행해서 처리하는 기술이다.

멀티 스레드는 컨텍스트 스위칭을 통해 스레드의 스위칭이 일어나는데 스위칭이 일어나면서 부분적으로 조금씩 각각의 스레드에 대한 작업을 끝낸다.

메인 스레드를 중심으로 여러 스레드를 이용하여 병렬적으로 작업을 처리하며 여러 스레드들이 프로세스의 자원을 공유한다.

스레드의 수 만큼 자원을 사용해야한다.

<br>

싱글스레드:  
하나의 프로세스에서 오직 하나의 스레드로 작업을 처리하는 기술이다.

싱글 스레드는 컨텍스트 스위칭을 할 필요가 없으며 프로세스의 자원 또한 독점하고 있어서 자원을 비교적 덜 소모한다.

하지만 여러 개의 cpu를 사용하지 못하며, 우선 순위의 작업이 끝나야 다음 작업을 수행할 수 있다.

멀티 스레드는 에러가 발생하면 새로운 스레드를 생성하여 극복하나 싱글 스레드는 멈춰버린다.


<br>

### ✅ Node JS와 싱글 스레드

<br>

우선 Node JS의 기반이 되는 언어인 JavaScript는 싱글 스레드 언어이다.

그렇다면 JS의 런타임인 Node JS도 싱글 스레드일까?

Node JS는 여러개의 스레드를 가지고 있으나 자바스크립트를 실행하는 스레드는 한 개이다.

그래서 싱글 스레드라고 하고, 그 스레드가 이벤트 루프이다.


<br>

### ✅ Blocking I/O와 Non-Blocking I/O

<br>

Blocking IO :  
하나의 프로세스가 어떤 자원을 사용하여 작업을 수행해야 하는 경우 해당 자원이 다른 프로세스가 점유하고 있는 상태라면,   
해당 프로세스가 자원 사용을 마칠 때 까지 기다리고 점유하여 작업을 실행하는 것을 의미한다.

<br>

Non-Blocking IO :  
Blocking IO와 상반되는 개념으로 작업이 시작되고 완료에 대한 응답을 기다리지 않고  
바로 다음 작업을 실행하는 것을 의미한다.


<br>

### ✅ Node JS는 이벤트 기반의 런타임

<br>

애초에 JavaScript는 비동기 처리를 할 수 없다.

그래서 비동기 코드를 만나면 libuv 라는 라이버리를 사용해서 비동기 처리를 하는데,

libuv가 이벤트 기반이다.

libuv는 비동기를 처리하는데 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미한다.  
(= 이벤트 리스너에 콜백 함수를 등록한다.)


<br>

### ✅ 그래서 왜 Node JS 인건가?

<br>

Node JS 는 non-blocking, single thread 런타임이므로 

데이터를 실시간으로 처리하기 위해 I/O가 빈번하게 발생하는 Single Page Application에 적합하다.