## ✅ CORS

<br>

### 👉 CORS

<br>

CORS - Cross-Origin Resource Sharing, 교차 출처 리소스 공유 정책

Origin = Protocol + Host + Port

즉, 출처는 Protocol, Host, Port를 합친 URL이다.

CORS는 다른 출처의 리소스 공유에 대한 허용/비허용 정책이다.



<br>

### 👉 SOP

<br>

SOP - Same-Origin Policy, 동일 출처 정책

동일한 출처에 대한 청잭을 말한다. 

이는 동일한 출처에서만 리소스를 공유할 수 있다라는 의미이다.

즉, 서버에 있는 리소스는 자유롭게 사용이 가능하나 다른 출처 서버에 있는 리소스는 상호작용이 불가능하다는 말이다.

<br>

### 👉 CORS 기본 동작

<br>

우선 브라우저의 기본 리소스 공유 정책은 sop를 따른다. 이는 동일 출처 정책이라고 불리는데  
교차 출처 리소스 공유 정책인 cors와는 반대의 개념이다.  
기술의 발달로 인해 몇 가지 예외 상황에 대해서는 다른 origin의 요청을 허용해야 되는 경우가 생겼다.

cors는 다른 origin으로 요청을 보내기 위해 지켜야 하는 정책으로, sop에 의해 막히던 요청을 풀어주는 정책이라고 할 수 있다.

cors는 브라우저의 정책이다. 서버는 요청이 오면 응답을 해줄 뿐이고  
브라우저에서 서버에서 응답 받은 데이터가 cors 정책을 지키는지 검사하는 것이다.

1. 클라이언트에서 HTTP 헤더에 Origin을 담아서 전달한다.
2. 서버는 응답 헤더에 Access-Control-Allow-Origin을 담아 클라이언트로 전달한다.
3. 클라이언트에서 자신이 보냈던 요청의 Origin과 서버가 보내준 Access-Control-Allow-Origin을 비교한다.
- 비교 후 유효햐지 않다면 그 응답을 처리하지 않고 버리는데 이때 CORS 에러가 발생하게 된다.

결국 서버에서 Access-Control-Allow-Origin 헤더에 허용할 출처를 기재하여 클라이언트에 응답하면 되는 것이다.

\> 개발 레벨에서는 프록시 서버를 이용해서 해결해준다. // cors 요청을 회피할 수 있는 방법

====



