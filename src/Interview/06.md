## ✅ CORS

<br>

### 👉 CORS

<br>

CORS - Cross-Origin Resource Sharing, 교차 출처 리소스 공유 정책

Origin = Protocol + Host + Port

즉, 출처는 Protocol, Host, Port를 합친 URL이다.

CORS는 다른 출처의 리소스 공유에 대한 허용/비허용 정책이다.



<br>

### 👉 SOP

<br>

SOP - Same-Origin Policy, 동일 출처 정책

동일한 출처에 대한 청잭을 말한다. 

이는 동일한 출처에서만 리소스를 공유할 수 있다라는 의미이다.

즉, 서버에 있는 리소스는 자유롭게 사용이 가능하나 다른 출처 서버에 있는 리소스는 상호작용이 불가능하다는 말이다.

<br>

### 👉 CORS 기본 동작

<br>

출처 비교와 차단은 서버에서 하는 것이 아니라 브라우저에 구현된 스펙이다.

브라우저의 CORS 기본 동작을 살펴보면,

1. 클라이언트에서 HTTP 헤더에 Origin을 담아서 전달한다.
2. 서버는 응답 헤더에 Access-Control-Allow-Origin을 담아 클라이언트로 전달한다.
3. 클라이언트에서 자신이 보냈던 요청의 Origin과 서버가 보내준 Access-Control-Allow-Origin을 비교한다.
- 비교 후 유효햐지 않다면 그 응답을 처리하지 않고 버리는데 이때 CORS 에러가 발생하게 된다.

결국 서버에서 Access-Control-Allow-Origin 헤더에 허용할 출처를 기재하여 클라이언트에 응답하면 되는 것이다.