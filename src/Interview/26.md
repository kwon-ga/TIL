## ✅ 인덱스

<br>

### 👉 인덱스

<br>

인덱스는 데이터 베이스의 검색 성능을 상향시키기 위한 자료구조이다.


<br>

### 👉 인덱스 동작 원리

<br>

기본적인 데이터 검색 과정

1.쿼리문 입력  
2.쿼리문 분석 후 database buffer cache에서 일치하는 데이터가 있는지 검색  
-> database buffer cache ?  Datafile 들로부터 읽은 Data Block의 복사본을 담고 있다.  
3.버퍼캐시에 부합하는 데이터가 없다면 인덱스 여부를 확인한다.  
4.인덱스가 있다면,  
 index Id를 확인하여 유효한 Id 라면 , 인덱스의 조건에 맞는 Row ID를 통해 블럭을 찾아가서 buffer cache에 복사한다.

5.인덱스가 없다면, 테이블에 포함된 데이터들을 풀스캔.



<br>

인덱스란 ? 
데이터베이스의 검색 기능을 향상시키기 위해 적용한 데이터 구조이다.
select 쿼리문을 실행하는 경우 where 절에 인덱스가 있다면, 인덱스 아이디를 확인하여 조건에 맞는 RowId를 확인한다. RowId를 통해 데이터 블럭에 접근하여 해당하는 블럭을 버퍼 캐시에 복사한다. 인덱스가 없는 경우 조건에 해당하는 테이블 전체를 버퍼캐시에 저장하여 풀스캔을 통해 데이터를 검색하게 되므로 인덱스의 검색 속도가 더 빠르다.

그렇다고해서 인덱스를 무조건 사용해야 하는 것은 아니다.

인덱스를 설정한다는 것은 데이터베이스 메모리를 추가적으로 더 사용해야 된다는 것이므로 자주 검색문에 사용되는 테이블이 아니라면 메모리 낭비를 가져올 수 있고, 데이터의 생성, 수정, 삭제가 빈번하게 일어나게 된다면 인덱스 또한 수정이 되야하기 때문에 인덱스의 최신 상태를 유지하기 힘들어지기 때문에 남발하면 데이터 베이스의 성능이 저하될 수 있다.

위의 경우는 단일 인덱스의 경우이고 

복합인덱스는 2개 이상의 컬럼으로 구성된 인덱스인데, 

인덱스를 생성하는 시점에 컬럼의 순서에 성능 영향을 많이 받는다.

복합 인덱스를 생성할 때 컬럼의 순선대로 정렬 > 조건에 맞는 데이터 탐색의 과정이 반복된다.

고로 처음에 데이터를 많이 걸러내는게 좋아보인다.